<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>SGS - Announcements</title>
    <link rel="stylesheet" href="/bootstrap-4.1.3-dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="/Student_AnnouncementInfo.css">
    <link rel="stylesheet" href="/fixed.css">
</head>

<body data-spy="scroll" data-target="#navbarResponsive">

    <!--- Start Home Section -->
    <div id="fixed"></div>
    <div id="announcements">

        <!--- Navigation -->
        <nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top">
            <!--	<a class="navbar-brand" href="#"><img src="img/SGS1.png"></a> -->
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive">
                <span class="navbar-toggler-icon"></span>
            </button>


            <div class="collapse navbar-collapse" id="navbarResponsive">
                <ul class="navbar-nav mx-auto">
                    <!--md, mx, ml-->
                    <li class="nav-item">
                        <a class="nav-link" href="">Profile</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="">Announcements</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="">Courses</a>
                    </li>
                    <li>
                        <a class="navbar-brand" href=""><img src="img/SGS1.png"></a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="">HT</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="">Statistics</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="">Contacts</a>
                    </li>
                </ul>
            </div>
        </nav>
        <!--- End Navigation-->



        <!--- Start Landing Page Section -->
        <div class="caption text-center">


            <div class="row row-1">
                <div class="col-md-3">
                    <img style="width: 50px; height: 50px;" class="UserImage" src="<%= Article.imageReference %>">
                    <h3><%= Article.F_Name + " " + Article.L_Name %></h3>
                </div>
                <div class="col-md-8">
                    <div class="article">
                        <p style="white-space: pre-line; text-align: left;"><%= Article.ArticleText %></p>
                    </div>
                </div>
            </div>
            
            <% commentArray.forEach(function(val) { %>
            <div class="row row-2">
                <div class="col-md-1">
                    <img style="width: 50px; height: 50px;" class="UserImage" src="<%= val.imageReference %>">
                    <h5><%= val.F_Name + " " + val.L_Name %></h5>
                </div>
                <div class="col-md-6">
                    <div class="comment">
                        <p style="white-space: pre-line; text-align: left;"><%= val.ArticleText %></p>
                    </div>
                </div>
            </div>
            <% }) %>
            
        <form action="/announcements/articles" method="POST">
            <div class="row row-3">
                <div class="col-md-2">
                    <img style="width: 50px; height: 50px;" class="UserImage" src="<%= currentUser.imageReference %>">
                    <h5><%= currentUser.F_Name + " " +  currentUser.L_Name %></h5>
                </div>
                <div class="col-md-7">
                    <div class="input">
                        <div class="input-group mb-3">
                            <div class="input-group-prepend">
                                <span class="input-group-text" id="basic-addon1">Comment</span>
                            </div>
                            <textarea name="Text" class="form-control" id="CommentTxt" placeholder="Insert a Comment"
                                aria-label="Username" aria-describedby="basic-addon1" style="resize: none;"></textarea>
                        </div>
                    </div>
                    <button>Submit</button></form>
                </div>
            </div>
        </form>

        </div>
        <!--- End Landing Page Section-->
    </div>
    <!--- End Home Section -->

    <script>
        window.onload = function (ev) {
            let textarea = document.getElementById('CommentTxt');

            textarea.addEventListener('keyup', function () {
                var el = this;
                setTimeout(function () {
                    el.style.cssText = 'height:auto; padding:0';
                    el.style.cssText = 'height:' + el.scrollHeight + 'px';
                }, 0);
            });

            function autosize() {
                var el = this;
                el.style.cssText = 'height:auto; padding:0';
                el.style.cssText = 'height:' + (el.style.height + el.scrollHeight) + 'px';

            }
        }

    </script>

    <!--- Script Source Files -->
    <script src="js/jquery-3.3.1.min.js"></script>
    <script src="bootstrap-4.1.3-dist/js/bootstrap.min.js"></script>
    <script src="https://use.fontawesome.com/releases/v6.2.1/js/all.js"></script>
    <!--- End of Script Source Files -->

</body>

</html>